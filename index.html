<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Painel Interativo Live</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:#eaeaea;
    transition:.3s;
    touch-action:none;
}
body.dark{ background:#121212; }

/* T√çTULO */
.titulo-geral{
    position:fixed;
    top:20px;
    left:50%;
    transform:translateX(-50%);
    z-index:1000;
}
.titulo-geral input{
    font-size:30px;
    font-weight:bold;
    padding:10px 25px;
    border-radius:12px;
    border:none;
    background:rgba(0,0,0,.7);
    color:white;
    text-align:center;
    outline:none;
    width:600px;
    max-width:90vw;
}

/* BOT√ïES */
.top-buttons{
    position:fixed;
    top:50%;
    right:20px;
    transform:translateY(-50%);
    display:flex;
    flex-direction:column;
    gap:10px;
    z-index:1000;
}
.top-buttons button{
    padding:10px 15px;
    border:none;
    border-radius:10px;
    cursor:pointer;
    font-weight:bold;
}
        
/* CANDIDATOS */
.center{
    display:flex;
    justify-content:center;
    gap:100px;
    padding-top:160px; /* empurra pra baixo */
}

.candidato{
    width:240px;
    height:320px;
    background:#1e1e1e;
    border-radius:14px;
    padding:12px;
    color:white;
    text-align:center;
    position: relative;
}

.image-box{
    width:100%;
    height:280px;
    background:#333;
    border-radius:10px;
    overflow:hidden;
    margin-bottom:10px;
}
.image-box img{
    width:100%;
    height:100%;
    object-fit:fill;   /* N√ÉO corta a imagem */
    background:#000;      /* fundo preto pra sobrar espa√ßo bonito */
}

.votos{
    font-size:30px;
    font-weight:bold;
    outline:none;
}
    
.nome{
    position: absolute;
    top: -80px;          /* sobe o nome */
    left: 0;

    width: 100%;         /* mesma largura do card */
    background: #000;
    color: #fff;

    font-weight: bold;
    font-size: 32px;
    padding: 10px 0;

    border-radius: 14px; /* borda redonda */
    text-align: center;
    }
    
/* JANELAS */
.window{
    position:fixed;
    width:185px;
    height:185px;
    background:#222;
    border-radius:12px;
    padding:6px;
    z-index:900;
}

.window .image-box{
    width:100%;
    height:100%;
    margin:0;
}

/* FECHAR */
.close-btn{
    position:absolute;
    top:4px;
    right:6px;
    width:20px;
    height:20px;
    background:#c0392b;
    color:white;
    font-weight:bold;
    border-radius:50%;
    text-align:center;
    line-height:20px;
    cursor:pointer;
    z-index:10;
}

/* MENU */
.context-menu{
    position:fixed;
    background:#222;
    color:white;
    border-radius:10px;
    padding:5px 0;
    display:none;
    z-index:3000;
}
.context-menu div{
    padding:8px 16px;
}
.context-menu div:hover{
    background:#444;
}
    /* BOT√ïES ‚Äì MODO CLARO */
.top-buttons button{
    background:#000;
    color:#fff;
    transition:.3s;
}

/* BOT√ïES ‚Äì MODO ESCURO */
body.dark .top-buttons button{
    background:#fff;
    color:#000;
}

    @media (max-width: 768px){
    .center{
        top:60%;
    }
}
    
</style>
</head>

<body>

<div class="titulo-geral">
    <input placeholder="Digite o t√≠tulo">
</div>

<div class="top-buttons">
    <button onclick="toggleMode()">üåó Fundo</button>
    <button onclick="changeTitleColor()">üé® Cor do t√≠tulo</button>
    <button onclick="changeVoteColor()">üé® Cor dos votos</button>
    <button onclick="mudarCor(1)">üé®Cor Candidato 1</button>
    <button onclick="mudarCor(2)">üé®Cor Candidato 2</button>
    <button onclick="novaJanela()">‚ûï Nova Janela</button>
</div>

<div class="center">
    <div class="candidato">
        
        <div class="nome" id="nome1" contenteditable="true">Nome Candidato</div>
        
        <div class="image-box" oncontextmenu="openMenu(event,this)"></div>
        <div class="votos" contenteditable="true">Votos</div>
    </div>

    <div class="candidato">
        
        <div class="nome" id="nome2" contenteditable="true">Nome Candidato</div>
        
        <div class="image-box" oncontextmenu="openMenu(event,this)"></div>
        <div class="votos" contenteditable="true">Votos</div>
    </div>
</div>

<div class="context-menu" id="menu"></div>

<input type="color" id="colorPicker" value="#ffffff" hidden>
<input type="color" id="titleColorPicker" value="#ffffff" hidden>
    
<script>
let targetBox=null;
let dragTarget=null;
let offsetX=0, offsetY=0;

/* VISUAL */
function toggleMode(){
    document.body.classList.toggle("dark");
}
function changeVoteColor(){
    const p=colorPicker;
    p.click();
    p.oninput=()=>document.querySelectorAll(".votos")
        .forEach(v=>v.style.color=p.value);
}
function changeTitleColor(){
    const p=titleColorPicker;
    p.click();
    p.oninput=()=>document.querySelector(".titulo-geral input")
        .style.color=p.value;
}

/* MENU */
function openMenu(e,box){
    e.preventDefault();
    targetBox=box;
    const m=menu;
    m.innerHTML="";
    if(box.querySelector("img")){
        m.innerHTML+=`<div onclick="addImage()">Trocar imagem</div>`;
        m.innerHTML+=`<div onclick="removeImage()">Remover imagem</div>`;
    }else{
        m.innerHTML+=`<div onclick="addImage()">Adicionar imagem</div>`;
    }
    m.style.left=e.clientX+"px";
    m.style.top=e.clientY+"px";
    m.style.display="block";
}
document.addEventListener("click",()=>menu.style.display="none");

/* IMAGEM */
function addImage(){
    const i=document.createElement("input");
    i.type="file";
    i.accept="image/*";
    i.onchange=e=>{
        const img=document.createElement("img");
        img.src=URL.createObjectURL(e.target.files[0]);
        targetBox.innerHTML="";
        targetBox.appendChild(img);
    };
    i.click();
}
function removeImage(){ targetBox.innerHTML=""; }

/* JANELA */
function novaJanela(){
    const w=document.createElement("div");
    w.className="window";
    w.style.left="100px";
    w.style.top="200px";

    const close=document.createElement("div");
    close.className="close-btn";
    close.innerHTML="√ó";
    close.onclick=()=>w.remove();

    const box=document.createElement("div");
    box.className="image-box";
    box.oncontextmenu=e=>openMenu(e,box);

    w.append(close,box);
    document.body.appendChild(w);

    /* PC */
    w.addEventListener("mousedown",e=>{
        dragTarget=w;
        offsetX=e.clientX-w.offsetLeft;
        offsetY=e.clientY-w.offsetTop;
    });

    /* CELULAR */
    w.addEventListener("touchstart",e=>{
        const t=e.touches[0];
        dragTarget=w;
        offsetX=t.clientX-w.offsetLeft;
        offsetY=t.clientY-w.offsetTop;
    });
}

/* MOVE */
document.addEventListener("mousemove",e=>{
    if(dragTarget){
        dragTarget.style.left=e.clientX-offsetX+"px";
        dragTarget.style.top=e.clientY-offsetY+"px";
    }
});
document.addEventListener("touchmove",e=>{
    if(dragTarget){
        const t=e.touches[0];
        dragTarget.style.left=t.clientX-offsetX+"px";
        dragTarget.style.top=t.clientY-offsetY+"px";
    }
});
document.addEventListener("mouseup",()=>dragTarget=null);
document.addEventListener("touchend",()=>dragTarget=null);
    /* CORES NOME CANDIDATO*/
    
/* COR DO NOME DO CANDIDATO (LETRA) */
    
function mudarCor(num){
    const nome = document.getElementById("nome" + num);
    if (!nome) return;

    const p = document.getElementById("colorPicker");
    p.click();

    p.oninput = () => {
        nome.style.color = p.value;
    };
}

</script>

</body>
</html>
