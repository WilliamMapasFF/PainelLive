<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Candidatos</title>

<style>
  .candidato-img {
    width: 100%;
    height: 220px;
    background: #ddd;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    position: relative;
    border-radius: 8px;
    overflow: hidden;
  }

  .candidato-img img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .menu-contexto {
    position: absolute;
    background: #222;
    border-radius: 6px;
    display: none;
    flex-direction: column;
    z-index: 9999;
    box-shadow: 0 4px 10px rgba(0,0,0,.4);
  }

  .menu-contexto button {
    background: none;
    border: none;
    color: #fff;
    padding: 10px 14px;
    text-align: left;
    cursor: pointer;
    font-size: 14px;
  }

  .menu-contexto button:hover {
    background: #444;
  }
</style>
</head>

<body>

<!-- CANDIDATO 1 -->
<div class="candidato-img" data-candidato="1">
  <span>Candidato 1</span>
  <img hidden>
</div>
<input type="file" accept="image/*" id="fileInput1" hidden>

<br><br>

<!-- CANDIDATO 2 -->
<div class="candidato-img" data-candidato="2">
  <span>Candidato 2</span>
  <img hidden>
</div>
<input type="file" accept="image/*" id="fileInput2" hidden>

<!-- MENU DE CONTEXTO -->
<div id="menuContexto" class="menu-contexto">
  <button id="addImg">Adicionar imagem</button>
  <button id="trocarImg">Trocar imagem</button>
  <button id="removerImg">Apagar imagem</button>
</div>

<script>
let candidatoAtual = null;
const menu = document.getElementById("menuContexto");

document.querySelectorAll(".candidato-img").forEach(area => {
  area.addEventListener("contextmenu", e => {
    e.preventDefault();
    candidatoAtual = area;

    menu.style.display = "flex";
    menu.style.left = e.pageX + "px";
    menu.style.top = e.pageY + "px";
  });
});

document.addEventListener("click", () => {
  menu.style.display = "none";
});

function abrirArquivo() {
  const id = candidatoAtual.dataset.candidato;
  document.getElementById("fileInput" + id).click();
}

document.getElementById("addImg").onclick = abrirArquivo;
document.getElementById("trocarImg").onclick = abrirArquivo;

document.getElementById("removerImg").onclick = () => {
  const img = candidatoAtual.querySelector("img");
  img.src = "";
  img.hidden = true;
};

document.querySelectorAll("input[type=file]").forEach(input => {
  input.addEventListener("change", e => {
    const file = e.target.files[0];
    if (!file) return;

    const img = candidatoAtual.querySelector("img");
    img.src = URL.createObjectURL(file);
    img.hidden = false;
  });
});
</script>

</body>
</html>
